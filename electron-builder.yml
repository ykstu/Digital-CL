# electron-builder.yml
appId: com.yourcompany.electron-app-demo
productName: Electron全平台演示
copyright: Copyright © 2025 ${author}
directories:
  output: dist
  buildResources: build
  app: .
files:
  - src/**/*
  - node_modules/**/*
  - package.json
  - "!**/node_modules/*/{CHANGELOG.md,README.md}"
  - "!**/*.{iml,o,hprof}"
asar: true
asarUnpack:
  - node_modules/**/*.node
compression: maximum
generateUpdatesFilesForAllChannels: true
publish:
  - provider: github
    owner: your-github-username
    repo: electron-app-demo
    releaseType: release

# Windows
win:
  target:
    - target: nsis
      arch: [x64, ia32, arm64]
    - target: zip
      arch: [x64]
  icon: build/icon.ico
  artifactName: ${productName}-${version}-${arch}.${ext}
  nsis:
    oneClick: false
    allowToChangeInstallationDirectory: true

# macOS
mac:
  target:
    - target: dmg
      arch: [x64, arm64, universal]
  icon: build/icon.icns
  hardenedRuntime: true
  dmg:
    background: build/background.png
    contents:
      - x: 410
        y: 150
        type: link
        path: /Applications
      - x: 130
        y: 150
        type: file
        path: ${app}

# Linux
linux:
  target:
    - target: AppImage
      arch: [x64, arm64]
    - target: deb
      arch: [x64]
  icon: build/icon.png
  category: Utility